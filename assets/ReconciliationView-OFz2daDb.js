import{_ as M,E as A,r as p,c as g,a as n,b as a,w as s,d as V,e as d,t as D,f as x,o as u,F as _,g as k,h as F}from"./index-PniCT5Hr.js";const N={data(){return{disabledDate(o){return o.getTime()>Date.now()},searchData:{date:"",cashFlowSource:"",bankAccount:""},searchOrigin:[],cashFlowSources:[],bankAccounts:[],isComparing:!1,bankFlow:[],countBankFlow:null,totalBankFlow:null,systemFlow:[],countSystemFlow:null,totalSystemFlow:null,dialogSystemVisible:!1,searchInfo:{bank:[],park:[],cashflowClass:[]},carParkOptions:[],cashflowClassOptions:[],searchCashFlowData:{bankId:"",parkId:"",cashflowClassId:""},addSystemData:{trx_seq:"",trx_date:"",scheduled_date:"",trade_amount:"",tn_amount:"",s_amount:"",cashFlowId:""},searchCashFlowDataRules:{bankId:[{required:!0,message:"請選擇銀行",trigger:"change"}],parkId:[{required:!0,message:"請選擇場站",trigger:"change"}],cashflowClassId:[{required:!0,message:"請選擇金流分類",trigger:"change"}]},systemFormRules:{trx_date:[{required:!0,message:"請選擇交易日",trigger:"blur"}],scheduled_date:[{required:!0,message:"請選擇入帳日",trigger:"blur"}],trade_amount:[{required:!0,message:"請輸入交易金額",trigger:"blur"}],tn_amount:[{required:!0,message:"請輸入手續費金額",trigger:"blur"}],s_amount:[{required:!0,message:"請輸入實際入帳金額",trigger:"blur"}]},dialogTableVisible:!1,systemFlowDetails:[],dialogVisible:!1,checkDetail:null,deleteDetailDialogVisible:!1,deleteDetailData:null,transferData:[]}},methods:{getSearchOrigin(){this.searchOrigin=[{id:1,companyId:1,bankMemo:"iPASS MONEY",voucherDesc:"一卡通",message:null,bankId:1,name:"力揚彰銀臨停",bankCode:"009",account:"41150119912400"},{id:2,companyId:1,bankMemo:"國泰世華商連加",voucherDesc:"連加",message:null,bankId:1,name:"力揚彰銀臨停一",bankCode:"009",account:"41150119912401"},{id:3,companyId:1,bankMemo:"悠遊卡公司",voucherDesc:"悠遊卡",message:"悠遊卡舊系統",bankId:1,name:"力揚彰銀臨停",bankCode:"009",account:"41150119912406"}],this.getCashFlowSources(),this.getBankAccountSources()},getCashFlowSources(){this.cashFlowSources=this.searchOrigin.map(o=>o.bankMemo.trim())},getBankAccountSources(){this.bankAccounts=this.searchOrigin.map(o=>({name:o.name.trim(),account:`${o.bankCode}${o.account}`}))},show(){if(this.searchData.date!==""&&this.searchData.cashFlowSource!==""&&this.searchData.bankAccount!==""){const o=A.service({lock:!0,text:"比對中...",background:"rgba(0, 0, 0, 0.7)"});setTimeout(()=>{o.close(),this.countBankFlow=null,this.totalBankFlow=null,this.countSystemFlow=null,this.totalSystemFlow=null,this.compare()},2e3)}else alert("搜尋欄位不得為空！")},getBankFlow(){this.bankFlow=[{id:1,station:"",postingDate:"2024-01-01",depositAmount:1e3,note:"這是備註訊息"},{id:2,station:"",postingDate:"2024-01-01",depositAmount:1300,note:""},{id:3,station:"",postingDate:"2024-01-01",depositAmount:1200,note:"這是備註訊息"},{id:4,station:"",postingDate:"2024-01-01",depositAmount:900,note:""},{id:5,station:"",postingDate:"2024-01-01",depositAmount:500,note:""}],this.countBankFlow=this.bankFlow.length,this.bankFlow.forEach(o=>{this.totalBankFlow+=o.depositAmount})},getSystemFlow(){this.systemFlow=[{id:64,postingDate:"2024-01-01",transactionAmount:515,fee:15,depositAmount:500,transactionCode:"y11111111",station:"富岡停一停車場",department:"部門一"},{id:98,postingDate:"2024-01-01",transactionAmount:915,fee:15,depositAmount:900,transactionCode:"y22222222",station:"南崁廣停一",department:"部門二"},{id:119,postingDate:"2024-01-01",transactionAmount:1315,fee:15,depositAmount:1300,transactionCode:"y33333333",station:"瑞芳消防分隊營業所",department:"部門一"},{id:191,postingDate:"2024-01-01",transactionAmount:515,fee:15,depositAmount:500,transactionCode:"y44444444",station:"桃園停三",department:"部門一"},{id:199,postingDate:"2024-01-01",transactionAmount:515,fee:15,depositAmount:500,transactionCode:"y55555555",station:"桃園停一",department:"部門二"}],this.countSystemFlow=this.systemFlow.length,this.systemFlow.forEach(o=>{this.totalSystemFlow+=o.depositAmount})},handleSystemFlowChange(o){alert("修改成功"),console.log(o)},openSystemDiolog(){this.dialogSystemVisible=!0,this.searchData.date!==""&&(this.addSystemData.scheduled_date=this.searchData.date),this.getSearchInfo()},getSearchInfo(){this.searchInfo={bank:[{id:1,name:"力揚彰銀臨停",bankCode:"009",account:"41150119912400",companyId:1,voucherNum:"1112.21",isConnection:"0",message:null},{id:2,name:"汎揚彰銀臨停",bankCode:"009",account:"41150128015700",companyId:2,voucherNum:"1112.26",isConnection:"0",message:null},{id:3,name:"花果山玉山臨停",bankCode:"",account:"",companyId:3,voucherNum:null,isConnection:"0",message:null}],carPark:[{id:1,name:"信義國中",companyId:1,voucherDep:"00013021",userId:null},{id:2,name:"重陽",companyId:1,voucherDep:"00018010",userId:null},{id:3,name:"板橋第一",companyId:1,voucherDep:"00015008",userId:null},{id:95,name:"龜山龍華",companyId:2,voucherDep:"00011052",userId:null},{id:96,name:"創新二期",companyId:2,voucherDep:"00011053",userId:null},{id:97,name:"龜山建國一村",companyId:2,voucherDep:"00011051",userId:null},{id:101,name:"中壢天晟",companyId:3,voucherDep:"00015024",userId:null},{id:102,name:"楊梅天成",companyId:3,voucherDep:"00015005",userId:null},{id:103,name:"金色年代(延平)",companyId:3,voucherDep:"00015031",userId:null},{id:107,name:"力揚-龍潭分館停車場",companyId:1,voucherDep:"00012035",userId:null},{id:108,name:"力揚-埔心車站後站機車停車場",companyId:1,voucherDep:"00018006",userId:null}],cashflowClass:[{id:1,casedescribe:"linepayMoney",companyId:1,connectionId:4,terms:"",bankMemo:"iPASS MONEY",voucherNum:"1123.60",voucherDesc:"一卡通",message:null},{id:2,casedescribe:"linepay",companyId:1,connectionId:7,terms:"",bankMemo:"國泰世華商連加",voucherNum:"1123.60",voucherDesc:"連加",message:null},{id:3,casedescribe:"悠遊卡A",companyId:1,connectionId:0,terms:"",bankMemo:"悠遊卡公司",voucherNum:"1123.30",voucherDesc:"悠遊卡",message:"悠遊卡舊系統"},{id:4,casedescribe:"悠遊卡B",companyId:1,connectionId:1,terms:"",bankMemo:"悠遊卡公司",voucherNum:"1123.30",voucherDesc:"悠遊卡",message:"悠遊卡新系統"},{id:5,casedescribe:"linepayMoney",companyId:2,connectionId:5,terms:"",bankMemo:"iPASS MONEY",voucherNum:"1123.60",voucherDesc:"一卡通",message:null},{id:6,casedescribe:"linepay",companyId:2,connectionId:8,terms:"",bankMemo:"國泰世華商連加",voucherNum:"1123.60",voucherDesc:"連加",message:null},{id:9,casedescribe:"linepayMoney",companyId:3,connectionId:6,terms:"",bankMemo:"iPASS MONEY",voucherNum:"1123.60",voucherDesc:"一卡通",message:null},{id:10,casedescribe:"linepay",companyId:3,connectionId:9,terms:"",bankMemo:"國泰世華商連加",voucherNum:"1123.60",voucherDesc:"連加",message:null}]}},getSearchCashFlowData(){const o=this.searchInfo.bank.find(c=>c.id===this.searchCashFlowData.bankId);if(!o)return;const l=o.companyId;this.carParkOptions=this.searchInfo.carPark.filter(c=>c.companyId===l),this.cashflowClassOptions=this.searchInfo.cashflowClass.filter(c=>c.companyId===l),this.searchCashFlowData.parkId=null,this.searchCashFlowData.cashflowClassId=null},searchCashFlow(){this.$refs.searchCashFlowDataForm.validate(o=>{o&&console.log("查詢金流的代號",this.searchCashFlowData)})},addSystem(){this.$refs.searchCashFlowDataForm.validate(o=>{o&&this.$refs.addSystemForm.validate(l=>{this.searchCashFlow(),l&&(alert("新增成功"),console.log("新增系統帳資料",this.addSystemData),this.addSystemData={},this.searchCashFlowData={},this.dialogSystemVisible=!1,this.compare(),this.dialogTableVisible&&this.getDetail())})})},cancelAddSystem(){this.addSystemData={},this.searchCashFlowData={},this.dialogSystemVisible=!1,this.$refs.addSystemForm.clearValidate(),this.$refs.searchCashFlowDataForm.clearValidate()},amountFormatter(o,l,c){return c+="",c.includes(".")||(c+="."),c.replace(/(\d)(?=(\d{3})+\.)/g,function(Y,t){return t+","}).replace(/\.$/,"")},compare(){this.getBankFlow(),this.getSystemFlow(),this.bankFlow.forEach(o=>{const l=this.systemFlow.find(c=>c.depositAmount===o.depositAmount);l&&(o.station=l.station)}),console.log("比對完啦",this.bankFlow)},customRowClassName({row:o}){return o.station!==""?"bg-success text-white":""},customSystemRowClassName({row:o}){return this.bankFlow.some(c=>c.station===o.station&&c.postingDate===o.postingDate)?"bg-success text-white":""},openDetailDialog(o){console.log(o.row),this.dialogTableVisible=!0,this.checkDetail=o.row,this.getDetail()},getDetail(){console.log("查看",this.checkDetail),this.systemFlowDetails=[{outDate:"2024-01-01",transactionTime:"12:30:43",amount:80},{outDate:"2024-01-01",transactionTime:"14:11:34",amount:120},{outDate:"2024-01-01",transactionTime:"16:51:11",amount:160},{outDate:"2024-01-01",transactionTime:"18:40:51",amount:160},{outDate:"2024-01-01",transactionTime:"18:53:20",amount:80},{outDate:"2024-01-01",transactionTime:"19:11:45",amount:200},{outDate:"2024-01-01",transactionTime:"19:41:38",amount:160},{outDate:"2024-01-01",transactionTime:"20:28:54",amount:40},{outDate:"2024-01-01",transactionTime:"21:53:28",amount:200}]},handleDetailAmountChange(o){o.outDate!==null&o.amount!==""?(console.log("交易明細變更",o),alert("修改成功")):alert("修改欄位不得為空！")},openDeleteDetailDialog(o){this.deleteDetailDialogVisible=!0,this.deleteDetailData=o},deleteDetail(){alert("刪除明細成功～"),this.getDetail(),console.log("刪除了這一筆明細",this.deleteDetailData),this.deleteDetailDialogVisible=!1},transfer(){this.transferData=this.bankFlow.filter(o=>o.station!=""),this.transferData.length>0?(this.bankFlow=this.bankFlow.filter(o=>o.station==""),alert("完成轉傳票"),console.log("轉傳票",this.transferData)):alert("無可以轉傳票的資料！")}},mounted(){this.getSearchOrigin()},watch:{"searchCashFlowData.bankId"(o,l){o!==null&&o!==l&&this.getSearchCashFlowData()}}},B=n("h1",{class:"mb-3 text-center"},"對帳系統",-1),T={class:"row align-items-center"},U={class:"col-md-3"},O={class:"col-md-3"},q={class:"col-md-3"},E={class:"col-md-2 mobile-btns"},P=n("p",{class:"text-end"},[n("br"),n("span",{class:"bg-success text-white p-1"},"綠底標註"),d("為符合的比對結果 ")],-1),R={class:"row"},j={class:"col-md-6"},L=n("h2",{class:"text-center my-2"},"銀行帳",-1),z={key:0,class:"text-end"},G={class:"col-md-6"},H=n("h2",{class:"text-center my-2"},"系統帳",-1),J={key:0,class:"text-end"},K={class:"d-flex justify-content-between"},Q={class:"d-flex flex-column"},W={class:"row mb-2 justify-content-center"},X=n("div",{class:"col-3 text-end"},"入帳日期：",-1),Z={class:"col-4 text-start fw-bold"},$={class:"row mb-2 justify-content-center"},ee=n("div",{class:"col-3 text-end"},"交易時間：",-1),te={class:"col-4 text-start fw-bold"},ae={class:"row mb-2 justify-content-center"},le=n("div",{class:"col-3 text-end"},"交易金額：",-1),oe={class:"col-4 text-start fw-bold"},se={class:"dialog-footer"};function ne(o,l,c,Y,t,i){const f=p("el-date-picker"),w=p("el-option"),y=p("el-select"),r=p("el-table-column"),v=p("el-table"),m=p("el-button"),h=p("el-form-item"),I=p("el-form"),C=p("el-input"),S=p("el-dialog");return u(),g("div",null,[B,n("form",T,[n("div",U,[a(f,{class:"align-self-stretch",style:{width:"100%"},modelValue:t.searchData.date,"onUpdate:modelValue":l[0]||(l[0]=e=>t.searchData.date=e),type:"date",placeholder:"請選擇入帳日期",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD","disabled-date":t.disabledDate,clearable:!1},null,8,["modelValue","disabled-date"])]),n("div",O,[a(y,{modelValue:t.searchData.cashFlowSource,"onUpdate:modelValue":l[1]||(l[1]=e=>t.searchData.cashFlowSource=e),placeholder:"請選擇金流來源"},{default:s(()=>[(u(!0),g(_,null,k(t.cashFlowSources,e=>(u(),F(w,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n("div",q,[a(y,{modelValue:t.searchData.bankAccount,"onUpdate:modelValue":l[2]||(l[2]=e=>t.searchData.bankAccount=e),placeholder:"請選擇銀行來源"},{default:s(()=>[(u(!0),g(_,null,k(t.bankAccounts,e=>(u(),F(w,{key:e.account,label:e.account,value:e.account},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n("div",E,[n("button",{class:"btn btn-success",onClick:l[3]||(l[3]=V((...e)=>i.show&&i.show(...e),["prevent"]))},"顯示"),n("button",{class:"btn btn-outline-success",onClick:l[4]||(l[4]=V((...e)=>i.transfer&&i.transfer(...e),["prevent"]))},"轉傳票")])]),P,n("div",R,[n("div",j,[L,t.countBankFlow>0?(u(),g("p",z,[d(" 共  "),n("strong",null,D(t.countBankFlow),1),d("  筆 "),n("span",null,[d("  / 總金額 $ "),n("strong",null,D(t.totalBankFlow.toLocaleString("en",{minimumFractionDigits:0})),1)])])):x("",!0),a(v,{data:t.bankFlow,"row-style":{height:"50px"},"row-class-name":i.customRowClassName,height:"450"},{default:s(()=>[a(r,{align:"center",prop:"station",label:"場站名稱",width:"180"}),a(r,{align:"center",prop:"postingDate",label:"入帳日",width:"180"}),a(r,{align:"center",prop:"depositAmount",sortable:"",formatter:i.amountFormatter,label:"入帳金額",width:"110"},null,8,["formatter"]),a(r,{align:"center",prop:"note",label:"註記",width:"180"})]),_:1},8,["data","row-class-name"])]),n("div",G,[H,t.countSystemFlow>0?(u(),g("p",J,[d(" 共  "),n("strong",null,D(t.countSystemFlow),1),d("  筆 "),n("span",null,[d("  / 總金額 $ "),n("strong",null,D(t.totalSystemFlow.toLocaleString("en",{minimumFractionDigits:0})),1)])])):x("",!0),a(v,{data:t.systemFlow,"row-style":{height:"50px"},"row-class-name":i.customSystemRowClassName,height:"450"},{default:s(()=>[a(r,{align:"center",prop:"station",label:"場站名稱",width:"180"}),a(r,{align:"center",prop:"postingDate",label:"入帳日",width:"210"},{default:s(e=>[n("div",K,[a(f,{class:"align-self-stretch",style:{width:"100%"},modelValue:e.row.postingDate,"onUpdate:modelValue":b=>e.row.postingDate=b,type:"date",placeholder:"請選擇入帳日期",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD","disabled-date":t.disabledDate,clearable:!1},null,8,["modelValue","onUpdate:modelValue","disabled-date"]),a(m,{onClick:b=>i.handleSystemFlowChange(e.row)},{default:s(()=>[d("確認")]),_:2},1032,["onClick"])])]),_:1}),a(r,{align:"center",prop:"depositAmount",sortable:"",formatter:i.amountFormatter,label:"入帳金額",width:"110"},null,8,["formatter"]),a(r,{align:"center",prop:"transactionAmount",sortable:"",formatter:i.amountFormatter,label:"交易金額",width:"110"},null,8,["formatter"]),a(r,{align:"center",prop:"fee",sortable:"",formatter:i.amountFormatter,label:"手續費",width:"110"},null,8,["formatter"]),a(r,{align:"center",prop:"transactionCode",label:"交易代號",width:"100"}),a(r,{align:"center",prop:"department",label:"部門",width:"100"}),a(r,{align:"center",label:"明細",width:"120",fixed:"right"},{default:s(e=>[a(m,{onClick:b=>i.openDetailDialog(e)},{default:s(()=>[d("查看明細")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","row-class-name"]),a(m,{type:"success",class:"mt-4",style:{width:"100%"},onClick:l[5]||(l[5]=e=>i.openSystemDiolog())},{default:s(()=>[d(" 新增系統帳資料 ")]),_:1})]),a(S,{modelValue:t.dialogSystemVisible,"onUpdate:modelValue":l[15]||(l[15]=e=>t.dialogSystemVisible=e),title:"新增系統帳資料",center:"",fullscreen:!0,"title-class":"dialog-title"},{default:s(()=>[a(I,{style:{"max-width":"500px","text-align":"center",margin:"0 auto"},"label-width":"120px","label-position":"right",ref:"searchCashFlowDataForm",model:t.searchCashFlowData,rules:t.searchCashFlowDataRules},{default:s(()=>[a(h,{label:"銀行帳號",prop:"bankId"},{default:s(()=>[a(y,{modelValue:t.searchCashFlowData.bankId,"onUpdate:modelValue":l[6]||(l[6]=e=>t.searchCashFlowData.bankId=e),placeholder:"請選擇銀行帳號",size:"large",onSelect:i.getSearchCashFlowData},{default:s(()=>[(u(!0),g(_,null,k(t.searchInfo.bank,e=>(u(),F(w,{key:e.id,label:e.bankCode+e.account,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onSelect"])]),_:1}),a(h,{label:"場站",prop:"parkId"},{default:s(()=>[a(y,{modelValue:t.searchCashFlowData.parkId,"onUpdate:modelValue":l[7]||(l[7]=e=>t.searchCashFlowData.parkId=e),placeholder:"請先選擇銀行帳號",size:"large"},{default:s(()=>[(u(!0),g(_,null,k(t.carParkOptions,e=>(u(),F(w,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(h,{label:"金流來源",prop:"cashflowClassId"},{default:s(()=>[a(y,{modelValue:t.searchCashFlowData.cashflowClassId,"onUpdate:modelValue":l[8]||(l[8]=e=>t.searchCashFlowData.cashflowClassId=e),placeholder:"請先選擇銀行帳號",size:"large",onSelect:i.searchCashFlow},{default:s(()=>[(u(!0),g(_,null,k(t.cashflowClassOptions,e=>(u(),F(w,{key:e.id,label:e.casedescribe,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onSelect"])]),_:1})]),_:1},8,["model","rules"]),a(I,{style:{"max-width":"500px","text-align":"center",margin:"0 auto"},"label-width":"120px","label-position":"right",ref:"addSystemForm",model:t.addSystemData,rules:t.systemFormRules},{default:s(()=>[a(h,{label:"支付交易代號","label-position":"right",prop:"trx_seq"},{default:s(()=>[a(C,{modelValue:t.addSystemData.trx_seq,"onUpdate:modelValue":l[9]||(l[9]=e=>t.addSystemData.trx_seq=e),placeholder:"請輸入支付交易代號",type:"text",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(h,{label:"交易日","label-position":"right",prop:"trx_date"},{default:s(()=>[a(f,{modelValue:t.addSystemData.trx_date,"onUpdate:modelValue":l[10]||(l[10]=e=>t.addSystemData.trx_date=e),type:"date",placeholder:"請選擇交易日",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD","disabled-date":t.disabledDate,clearable:!1},null,8,["modelValue","disabled-date"])]),_:1}),a(h,{label:"入帳日","label-position":"right",prop:"scheduled_date"},{default:s(()=>[a(f,{modelValue:t.addSystemData.scheduled_date,"onUpdate:modelValue":l[11]||(l[11]=e=>t.addSystemData.scheduled_date=e),type:"date",placeholder:"請選擇入帳日",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD","disabled-date":t.disabledDate,clearable:!1},null,8,["modelValue","disabled-date"])]),_:1}),a(h,{label:"交易金額","label-position":"right",prop:"trade_amount"},{default:s(()=>[a(C,{modelValue:t.addSystemData.trade_amount,"onUpdate:modelValue":l[12]||(l[12]=e=>t.addSystemData.trade_amount=e),placeholder:"請輸入交易金額",type:"number",min:"1",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(h,{label:"手續費","label-position":"right",prop:"tn_amount"},{default:s(()=>[a(C,{modelValue:t.addSystemData.tn_amount,"onUpdate:modelValue":l[13]||(l[13]=e=>t.addSystemData.tn_amount=e),placeholder:"請輸入手續費",type:"number",min:"1",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(h,{label:"入帳金額","label-position":"right",prop:"s_amount"},{default:s(()=>[a(C,{modelValue:t.addSystemData.s_amount,"onUpdate:modelValue":l[14]||(l[14]=e=>t.addSystemData.s_amount=e),placeholder:"請輸入入帳金額",type:"number",min:"1",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(h,null,{default:s(()=>[a(m,{type:"success",onClick:i.addSystem},{default:s(()=>[d("確認")]),_:1},8,["onClick"]),a(m,{onClick:i.cancelAddSystem},{default:s(()=>[d("取消")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),a(S,{modelValue:t.dialogTableVisible,"onUpdate:modelValue":l[19]||(l[19]=e=>t.dialogTableVisible=e),"close-on-click-modal":!1,align:"center",title:"交易明細",width:"70vw"},{default:s(()=>[a(v,{data:t.systemFlowDetails,height:"500"},{default:s(()=>[a(r,{align:"center",property:"outDate",label:"入帳日期"},{default:s(e=>[a(f,{class:"align-self-stretch",modelValue:e.row.outDate,"onUpdate:modelValue":b=>e.row.outDate=b,type:"date",placeholder:"請選擇入帳日期",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD","disabled-date":t.disabledDate,clearable:!1},null,8,["modelValue","onUpdate:modelValue","disabled-date"])]),_:1}),a(r,{align:"center",property:"transactionTime",label:"交易時間",sortable:""}),a(r,{align:"center",property:"amount",label:"金額",sortable:"",formatter:i.amountFormatter},null,8,["formatter"]),a(r,{align:"center",label:"調整"},{default:s(e=>[a(m,{onClick:b=>i.handleDetailAmountChange(e.row)},{default:s(()=>[d("確認調整")]),_:2},1032,["onClick"])]),_:1}),a(r,{align:"center",label:"刪除"},{default:s(e=>[a(m,{type:"danger",onClick:b=>i.openDeleteDetailDialog(e.row)},{default:s(()=>[d("刪除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a(m,{type:"success",class:"mt-2",onClick:l[16]||(l[16]=e=>i.openSystemDiolog())},{default:s(()=>[d("新增交易明細")]),_:1}),a(S,{modelValue:t.deleteDetailDialogVisible,"onUpdate:modelValue":l[18]||(l[18]=e=>t.deleteDetailDialogVisible=e),"close-on-click-modal":!1,title:"刪除交易明細",width:"500",center:"","align-center":""},{footer:s(()=>[n("div",se,[a(m,{onClick:l[17]||(l[17]=e=>t.deleteDetailDialogVisible=!1)},{default:s(()=>[d("取消")]),_:1}),a(m,{type:"danger",onClick:i.deleteDetail},{default:s(()=>[d("確認刪除")]),_:1},8,["onClick"])])]),default:s(()=>[n("div",Q,[n("div",W,[X,n("div",Z,D(t.deleteDetailData.outDate),1)]),n("div",$,[ee,n("div",te,D(t.deleteDetailData.transactionTime),1)]),n("div",ae,[le,n("div",oe,D(t.deleteDetailData.amount),1)])])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])])}const re=M(N,[["render",ne]]);export{re as default};
